/* --- VARIABLES (Dark Neon Theme) --- */
$dark-bg: #050b14;       // Main Dark Background
$sidebar-bg: #0b1120;    // Slightly lighter for sidebar
$electric-blue: #00f2ff; // Neon Blue
$text-main: #ffffff;
$text-muted: #8892b0;
$hover-bg: rgba(0, 242, 255, 0.1);

.sidebar {
  width: 240px;
  height: 100vh;            // Full height
  background: $sidebar-bg;  // ðŸ”´ FIX: Changed from White to Dark Navy
  color: $text-main;
  display: flex;
  flex-direction: column;
  transition: width 0.3s ease;
  border-right: 1px solid rgba($electric-blue, 0.1); // Subtle neon border
  
  // ðŸ”´ FIX: Removed 'position: fixed' so it doesn't overlap content
  // It will now sit nicely inside the Flexbox container we made in app.component
  position: relative; 
  flex-shrink: 0; // Prevents sidebar from getting squished
  z-index: 1000;

  &.collapsed {
    width: 70px;
    
    // Hide text labels when collapsed
    .menu li a span, 
    .menu li a .arrow,
    .sidebar-header h2 {
      display: none;
    }
    
    // Center icons when collapsed
    .menu li a {
        justify-content: center;
        padding: 0.9rem 0;
        .icon { margin: 0; }
    }
  }

  /* --- HEADER --- */
  .sidebar-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1.5rem 1rem;
    background: transparent; // Seamless background
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);

    .logo {
      width: 30px; 
      height: auto; 
      margin-right: 10px;
      filter: drop-shadow(0 0 5px $electric-blue); // Glow for logo
    }

    h2 {
      margin: 0;
      font-size: 1.2rem;
      font-weight: 700;
      color: $text-main;
      letter-spacing: 1px;
    }

    .toggle-btn {
      background: transparent;
      border: none;
      color: $text-muted;
      font-size: 1.5rem;
      cursor: pointer;
      transition: color 0.3s;
      
      &:hover { color: $electric-blue; }
    }
  }

  /* --- MENU ITEMS --- */
  .menu {
    list-style: none;
    padding: 10px 0;
    margin: 0;

    li {
      a {
        display: flex;
        align-items: center;
        gap: 15px;
        padding: 1rem 1.5rem;
        color: $text-muted;
        text-decoration: none;
        cursor: pointer;
        transition: all 0.3s ease;
        border-left: 3px solid transparent;

        /* Hover Effect */
        &:hover {
          background: $hover-bg;
          color: $electric-blue;
          border-left: 3px solid $electric-blue;
          
          mat-icon { color: $electric-blue; filter: drop-shadow(0 0 5px $electric-blue); }
        }

        /* Active/Selected State */
        &.active {
          background: linear-gradient(90deg, rgba($electric-blue, 0.15) 0%, transparent 100%);
          color: $electric-blue;
          border-left: 3px solid $electric-blue;
          mat-icon { color: $electric-blue; }
        }

        mat-icon {
          font-size: 1.3rem;
          width: 24px;
          height: 24px;
          color: $text-muted;
          transition: all 0.3s ease;
        }

        span { font-weight: 500; font-size: 0.95rem; }
        
        .arrow { margin-left: auto; font-size: 0.8rem; }
      }
      
      /* Dropdown Menu (for Sorting/Searching) */
      .dropdown-menu {
          background: rgba(0,0,0,0.2);
          list-style: none; padding: 0;
          
          li a {
              padding-left: 3.5rem;
              font-size: 0.9rem;
              &:hover { color: white; }
          }
      }
    }
  }
}
