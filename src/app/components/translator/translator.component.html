<div class="container mt-5">
  <form>
    <div class="row align-items-center text-center">
      <div class="col-md-5 mb-3">
        <label for="inputCode" class="form-label fw-bold">Input Code:</label>
        <textarea
          class="form-control shadow-sm"
          id="inputCode"
          rows="10"
          [(ngModel)]="inputCode"
          name="inputCode"
          placeholder="Enter your code here..."
        ></textarea>
      </div>

      <div class="col-md-2 d-flex flex-column justify-content-center mb-3">
        <button
          type="button"
          class="btn btn-primary btn-lg translate-btn"
          (click)="translateCode()"
          [disabled]="isLoading"
        >
          <span *ngIf="!isLoading">Translate</span>
          <span *ngIf="isLoading" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
          <span *ngIf="isLoading"> Translating...</span>
        </button>
            <div *ngIf="estimatedTimeMs">
                Estimated time: {{ estimatedTimeMs / 1000 | number:'1.0-1' }} seconds
            </div>
      </div>

      <div class="col-md-5 mb-3 position-relative">
        <label for="outputCode" class="form-label fw-bold">Output Code:</label>
        <div *ngIf="isLoading" class="loading-overlay d-flex justify-content-center align-items-center">
          <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
        </div>

        <textarea
          class="form-control shadow-sm"
          id="outputCode"
          rows="10"
          [(ngModel)]="outputCode"
          name="outputCode"
          readonly
          [class.blur-while-loading]="isLoading"
        ></textarea>
        <div *ngIf="!isLoading && translationTimeMs" class="text-end mt-1">
          <small class="text-success">
            Translation took: {{ translationTimeMs / 1000 | number:'1.2-2' }}s
          </small>
        </div>
      </div>
    </div>
  </form>
</div>